<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Movie Tracker</title>

    <link 
      rel="stylesheet" 
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" 
      crossorigin="anonymous"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link 
      href="https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@200;300;400;500;600;700;800;900&family=Roboto:wght@100;200;300;400;500;600;700;800;900&display=swap" 
      rel="stylesheet"
    />  
    <style>

      .main {
        position: fixed;
        top: 50%;
        left: 50%;
        /* bring your own prefixes */
        transform: translate(-50%, -50%);
      }

      .header {
        font-family: "Source Sans",;
        text-align: center;
        color: black;
        font-weight: 700;
        font-size: 1.5em;
      }

      .card {
        filter: drop-shadow(16px, 16px);
      }

      .card-header {
        font-family: "Source Sans",;
        text-align: center;
        color: black;
        font-weight: 500;
        font-size: 1.0em;
      }

      .body-text {
        font-family: "Roboto"
      }


      .form-container {
        padding: 5px;
      }

      #home-page-nav-header {
        color: black;
      }

      #home-page-watchlist-link {
        color: black;
        font-weight: 400;
        font-size: 1.00em;
      }

      .accordion-body {
        padding: 10px;
      }

      .accordion {
        --bs-accordion-btn-bg: #E9E3DF;
        --bs-accordion-active-bg: #E9E3DF; 
      }

      .accordion-header {
        font-family: "Source Sans",;
      }

      .accordion-button {
        font-family: "Source Sans",;
        font-size: 1.00rem; /* Adjust as needed */
        font-weight: bold; /* Example: make it bold */
      }

      .accordion-button::after {
        background-image: none !important; /* Remove default arrow */
        content: "+"; /* Plus sign when collapsed */
        font-weight: bold;
        transform: none; /* Remove default rotation */
      }

      .accordion-button[aria-expanded="true"]::after {
        content: "-"
      }

      #results-header {
        font-family: "Source Sans",;
        text-align: center;
        color: black;
        font-weight: 700;
        font-size: 1.25em;
      }

      .director-result-header {
        font-family: "Source Sans",;
        text-align: center;
        color: black;
        font-weight: 700;
        font-size: 0.90em;
      }
    
  
    </style>
  </head>
  <body>

    <nav class="navbar border-bottom shadow-sm">
      <div class="container justify-content-center">
        <a class="navbar-brand header" id="home-page-nav-header">Filmography Tracker</a>
        <a id="home-page-watchlist-link" href="/movies">Priority Watchlist</a>
    </nav>

    <div class="container d-flex align-items-center justify-content-center mt-3">
      <h4 id="results-header">Results</h4>
    </div>

    <% let array = []; %>

    <% for (let i = 0; i < results.length; i+=3){ %>
      <% array = [...array, results.slice(i, i + 3)]; %>
    <%} %>

    <% array.forEach((e => { %>
       <div class="row justify-content-center">
          <% e.forEach((sub) => { %>
              <div class="col-3">
                <div class="card shadow-lg">
                  <div class="card-body">
                    <h6 class="director-result-header"><%= sub.name %> Result</h6>
                    <hr>
                    <p><b>Known For</b></p>
                    <ul>
                      <% sub.knownFor.forEach((film) => { %>
                        <li><%= film.title %></li>
                      <%}) %>
                    </ul>
                    <div class="form-container">
                      <form action="/films" method="POST">
                        <label for="director">Confirm Director</label>
                        <div class="mt-1">
                          <input type="text" placeholder="<%= sub.name%>" id="director" name="director" value="<%= sub.name%>">
                        </div>
                        <label for="add-co-director" class="mt-1">Add Co-Director if Applicable</label>
                        <div class="mt-1">
                          <input type="text" placeholder="Co-Director Name" id="add-co-director">
                        </div>
                        <input type="hidden" value="<%= sub.id%>" name="id">
                        <div class="mt-2">
                          <button type="submit" class="btn btn-primary">Submit</button>
                        </div>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
          <%}); %>
       </div>
    <%})); %>


    
    <!-- <div class="container">
      <div class="row">
        <div class="col-md-6 offset-md-3">
          <div class="card opacity-50">
            <div class="card-body text-bg-dark">
              <h5 class="card-title text-center">John Carpenter</h5>
              <h6>Known For:</h3>
              <ul>
                <li>The Thing</li>
                <li>Halloween</li>
                <li>Big Trouble in Little China</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div> -->



  
    <!-- <div id="results-container">
      <% results.forEach((result) => { %>
        <h3><%= result.name %></h3>
        <ul>
          <% result.knownFor.forEach((title) => { %>
            <li><%= title.title %></li>
          <% }) %>
        </ul>
      <% }) %>
    </div> -->
   

  
    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js" integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq" crossorigin="anonymous"></script> -->
  </body>
</html>